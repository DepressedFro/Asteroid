(window.webpackJsonpasteroid=window.webpackJsonpasteroid||[]).push([[0],[function(t,e,s){t.exports=s(2)},function(t,e,s){},function(t,e,s){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){for(var s=0;s<e.length;s++){var i=e[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function r(t,e,s){return e&&h(t.prototype,e),s&&h(t,s),t}s.r(e);var a=function(){function t(e,s,h,r,a,o){i(this,t),this.vertices=e.slice(0),this.x=s,this.y=h,this.size=r,this.angle=a,this.splitTimes=0,this.velocity={x:o*Math.cos(this.angle),y:o*Math.sin(this.angle)},this.length=this.vertices.length,this.rotate=this.rotate.bind(this),this.scale=this.scale.bind(this),this.update=this.update.bind(this),this.render=this.render.bind(this),this.scale(r)}return r(t,[{key:"rotate",value:function(t){for(var e=Math.sin(t),s=Math.cos(t),i=0;i<this.length;i+=2){var h=this.vertices[i],r=this.vertices[i+1];this.vertices[i]=s*h-e*r,this.vertices[i+1]=e*h+s*r}}},{key:"scale",value:function(t){for(var e=0;e<this.length;e++)this.vertices[e]*=t}},{key:"update",value:function(){this.rotate(.01),this.velocity.x<-4?this.velocity.x=-4:this.velocity.x>4&&(this.velocity.x=4),this.velocity.y<-4?this.velocity.y=-4:this.velocity.y>4&&(this.velocity.y=4),this.x+=this.velocity.x,this.y+=this.velocity.y,this.x>1e3?this.x=0:this.x<0&&(this.x=1e3),this.y>1e3&&(this.y=0),this.y<0&&(this.y=1e3)}},{key:"render",value:function(t){t.save(),t.strokeStyle="#fff",t.beginPath(),t.moveTo(this.vertices[0]+this.x,this.vertices[1]+this.y);for(var e=2;e<this.length;e+=2)t.lineTo(this.vertices[e]+this.x,this.vertices[e+1]+this.y);t.stroke(),t.restore()}}]),t}(),o=function(){function t(e,s,h){i(this,t),this.x=e,this.y=s,this.remove=!1;this.velocity={x:5*Math.cos(h),y:5*Math.sin(h)},this.getRemove=this.getRemove.bind(this),this.update=this.update.bind(this),this.render=this.render.bind(this)}return r(t,[{key:"getRemove",value:function(){return this.remove}},{key:"update",value:function(){this.lastx=this.x,this.lasty=this.y,this.x+=this.velocity.x,this.y+=this.velocity.y,this.x>1e3?this.remove=!0:this.x<0&&(this.remove=!0),this.y>1e3&&(this.remove=!0),this.y<0&&(this.remove=!0)}},{key:"render",value:function(t){t.save(),t.strokeStyle="#fff",t.beginPath(),t.moveTo(this.lastx,this.lasty),t.lineTo(this.x,this.y),t.stroke(),t.closePath(),t.restore()}}]),t}(),n=function(){function t(){i(this,t),this.x=500,this.y=500;this.angle=3*Math.PI/2,this.vertices=[0,0,-2,1,-1,-3,0,-2,1,-3,2,1,0,0],this.thruster=[0,0,-1,1,-1,2,0,3,1,2,1,1,0,0],this.thrusting=!1,this.length=this.vertices.length,this.velocity={x:0*Math.cos(this.angle),y:0*Math.sin(this.angle)},this.scale=this.scale.bind(this),this.warp=this.warp.bind(this),this.shoot=this.shoot.bind(this),this.rotate=this.rotate.bind(this),this.thrust=this.thrust.bind(this),this.update=this.update.bind(this),this.render=this.render.bind(this),this.scale(4)}return r(t,[{key:"scale",value:function(t){for(var e=0;e<this.length;e++)this.vertices[e]*=t;for(e=0;e<this.thruster.length;e++)this.thruster[e]*=t}},{key:"warp",value:function(){this.x=1e3*Math.random()+100,this.y=1e3*Math.random()+100}},{key:"rotate",value:function(t){var e=Math.sin(t),s=Math.cos(t);this.angle+=t;for(var i=0;i<this.length;i+=2){var h=this.vertices[i],r=this.vertices[i+1];this.vertices[i]=s*h-e*r,this.vertices[i+1]=e*h+s*r}for(i=0;i<this.thruster.length;i+=2){h=this.thruster[i],r=this.thruster[i+1];this.thruster[i]=s*h-e*r,this.thruster[i+1]=e*h+s*r}}},{key:"thrust",value:function(){this.thrusting=!0,this.velocity.x*this.velocity.x+this.velocity.y*this.velocity.y<400&&(this.velocity.x+=.06*Math.cos(this.angle),this.velocity.y+=.06*Math.sin(this.angle))}},{key:"shoot",value:function(){return new o(this.vertices[6]+this.x,this.vertices[7]+this.y,this.angle)}},{key:"update",value:function(){this.x+=this.velocity.x,this.y+=this.velocity.y,this.x>1e3?this.x=0:this.x<0&&(this.x=1e3),this.y>1e3&&(this.y=0),this.y<0&&(this.y=1e3)}},{key:"render",value:function(t){t.save(),t.strokeStyle="#fff",t.beginPath(),t.moveTo(this.vertices[0]+this.x,this.vertices[1]+this.y);for(var e=2;e<this.length;e+=2)t.lineTo(this.vertices[e]+this.x,this.vertices[e+1]+this.y);if(t.stroke(),t.closePath(),!0===this.thrusting){t.beginPath(),t.moveTo(this.thruster[0]+this.x,this.thruster[1]+this.y);for(e=2;e<this.thruster.length;e+=2)t.lineTo(this.thruster[e]+this.x,this.thruster[e+1]+this.y);t.stroke(),t.closePath(),this.thrusting=!1}t.restore()}}]),t}(),l=function(){function t(){i(this,t);var e;this.shapes={Asteroids:[[-3,-2,1,-4,4,-3,5,0,4,2,-1,4,-3,2,-3,-2],[-4,-1,-5,2,-3,4,-1,2,2,4,3,2,5,0,3,-2,2,-5,-1,-4,-4,-4,-4,-1],[-3,-3,2,-4,3,0,2,4,-3,5,-4,2,-2,0,-4,-2,-3,-3],[-4,-2,-2,-4,0,-4,3,-2,3,0,2,3,-1,3,-4,2,-5,-1,-4,-2],[-3,1,-6,-2,-3,-5,1,-4,0,-2,3,-4,5,-2,3,3,1,2,-3,1],[-3,-4,-1,-6,3,-5,2,-4,4,-4,5,-3,5,1,1,3,0,2,-3,2,-3,0,-5,-2,-3,-4]],Sizes:[[1],[4],[2],[5],[3],[5]],Numbers:[[-1,-2,1,-2,1,2,-1,2,-1,-2],[-1,-1,0,-2,0,2,-1,2,1,2],[-1,-2,1,-2,1,0,-1,0,-1,2,1,2],[-1,-2,1,-2,1,0,-1,0,1,0,1,2,-1,2],[-1,-2,-1,0,1,0,1,-2,1,2],[1,-2,-1,-2,-1,0,1,0,1,2,-1,2],[-1,-2,-1,0,1,0,1,2,-1,2,-1,0],[-1,-2,1,-2,-1,2],[-1,-2,-1,0,1,0,1,2,-1,2,-1,0,1,0,1,-2,-1,-2],[1,0,-1,0,-1,-2,1,-2,1,2]],Letters:[[-1,2,-1,-2,1,-2,1,0,-1,0,1,0,1,2],[-1,2,-1,-2,1,-2,1,-1,0,0,-1,0,0,0,1,1,1,2,-1,2],[1,-2,-1,-2,-1,2,1,2],[-1,2,-1,-2,0,-2,1,-1,1,1,0,2,-1,2],[1,-2,-1,-2,-1,0,1,0,-1,0,-1,2,1,2],[-1,2,-1,-2,1,-2,-1,-2,-1,0,0,0],[1,-2,-1,-2,-1,0,1,0,1,2,-1,2,-1,0],[-1,-2,-1,2,-1,0,1,0,1,-2,1,2],[-1,-2,1,-2,0,-2,0,2,-1,2,1,2],[-1,-2,1,-2,0,-2,0,0,0,1,0,2,-1,1],[-1,-2,-1,2,-1,0,1,-2,-1,0,1,2],[-1,-2,-1,2,1,2],[-1,2,-1,-2,0,0,1,-2,1,2],[-1,2,-1,-2,0,0,1,-2,1,2],[1,-2,-1,-2,-1,2,1,2,1,-2],[-1,2,-1,-2,1,-2,1,0,-1,0],[1,-2,-1,-2,-1,2,0,1,1,2,0,1,1,1,1,-2],[-1,2,-1,-2,1,-2,1,0,-1,0,1,2],[1,-2,-1,-2,-1,0,1,0,1,2,-1,2],[-1,-2,1,-2,0,-2,0,2],[-1,-2,-1,2,1,2,1,-2],[-1,-2,0,2,1,-2],[-1,-2,-1,2,0,2,0,-2,0,2,1,2,1,-2],[1,-2,-1,2,0,0,-1,-2,1,2],[-1,-2,0,0,1,-2,0,0,0,2],[-1,-2,1,-2,-1,2,1,2]]},this.keyArray=[16,27,32,37,38,39],this.keys=[],this.ship=new n,this.lasers=[],this.time=0,this.lastTime=0,this.lastTimeWarped=0,this.lastTimePaused=0,this.damageTime=0,this.onetime=0,this.maxWidth=1e3,this.maxHeight=1e3,this.currentLevel=1,this.currentLives=3,this.currentLivesVisual=[0,0,-8,4,-4,-12,0,-8,4,-12,8,4,0,0],this.score=0,this.flip=!1,this.sfx_player_laser_shoot=new Audio("Sounds/Laser_Shoot.wav"),this.sfx_player_laser_shoot.preload="auto",this.sfx_player_laser_shoot.load(),this.sfx_player_warp=new Audio("Sounds/Warp.wav"),this.sfx_player_warp.preload="auto",this.sfx_player_warp.load(),this.sfx_next_level=new Audio("Sounds/Next_Level.wav"),this.sfx_next_level.preload="auto",this.sfx_next_level.load(),this.sfx_player_explode=new Audio("Sounds/Ship_Explode.wav"),this.sfx_player_explode.preload="auto",this.sfx_player_explode.load(),this.sfx_player_laser_hit=new Audio("Sounds/Laser_Hit.wav"),this.sfx_player_laser_hit.preload="auto",this.sfx_player_laser_hit.load(),this.sfx_game_end=new Audio("Sounds/End_Game.wav"),this.sfx_game_end.preload="auto",this.sfx_game_end.load(),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleKeyUp=this.handleKeyUp.bind(this),window.onkeydown=this.handleKeyDown,window.onkeyup=this.handleKeyUp,this.backBufferCanvas=document.createElement("canvas"),this.backBufferCanvas.width=this.maxWidth,this.backBufferCanvas.height=this.maxHeight,this.backBufferContext=this.backBufferCanvas.getContext("2d"),this.screenBufferCanvas=document.createElement("canvas"),this.screenBufferCanvas.width=this.maxWidth,this.screenBufferCanvas.height=this.maxHeight,document.body.appendChild(this.screenBufferCanvas),this.screenBufferContext=this.screenBufferCanvas.getContext("2d"),(e=document.createElement("div")).id="message",e.textContent="",document.body.appendChild(e),this.update=this.update.bind(this),this.gameOver=this.gameOver.bind(this),this.pointCollision=this.pointCollision.bind(this),this.render=this.render.bind(this),this.loop=this.loop.bind(this),this.level=this.makeLevel.bind(this),this.drawText=this.drawText.bind(this),this.drawMenu=this.drawMenu.bind(this),this.level(this.currentLevel),(e=document.getElementById("message")).innerHTML="HOW TO PLAY: <br /> -SHOOT ASTEROIDS TO INCREASE SCORE <br /> -DESTROY ALL ASTEROIDS TO GO TO THE NEXT LEVEL <br /> -WARPING TAKES YOU TO A COMPLETELY RANDOM LOCATION ON SCREEN <br /> -IF YOU DIE, YOU HAVE 3 SECONDS BEFORE YOU CAN BE DAMAGED AGAIN <br /> <br />CONTROLS: <br />-ESC: HIDE HELP <br />-LEFT ARROW KEY: ROTATE COUNTER CLOCKWISE <br />-UP ARROW KEY: MOVE FORWARD <br />-RIGHT ARROW KEY: ROTATE CLOCKWISE <br />-SPACE: FIRE LASER <br />-WARP: ACTIVATE WARP",this.interval=setInterval(this.loop,1e3/60)}return r(t,[{key:"handleKeyUp",value:function(t){t.preventDefault(),16!==t.keyCode&&27!==t.keyCode&&32!==t.keyCode&&37!==t.keyCode&&38!==t.keyCode&&39!==t.keyCode||(this.keys[t.keyCode]=!1)}},{key:"handleKeyDown",value:function(t){t.preventDefault(),16!==t.keyCode&&27!==t.keyCode&&32!==t.keyCode&&37!==t.keyCode&&38!==t.keyCode&&39!==t.keyCode||(this.keys[t.keyCode]=!0)}},{key:"pointCollision",value:function(t,e,s,i,h){for(var r=!1,a=t.length-2,o=0;o<t.length;o+=2){var n=t[o]+e,l=t[a]+e,d=t[o+1]+s,c=t[a+1]+s;d>h!=c>h&&i<(l-n)*(h-d)/(c-d)+n&&(r=!r),a=o}return r}},{key:"update",value:function(){if(this.currentLives<=0)this.gameOver();else{this.time+=1,Math.abs(this.time-this.damageTime)>=180&&(this.canBeDamaged=!0);for(var t=0;t<this.keyArray.length;t++){if(16===this.keyArray[t]&&this.keys[this.keyArray[t]]){if(Math.abs(this.time-this.lastTimeWarped)>=200)this.lastTimeWarped=this.time,this.ship.warp(),this.sfx_player_warp.cloneNode().play()}else if(27===this.keyArray[t]&&this.keys[this.keyArray[t]])Math.abs(this.time-this.lastTimePaused)>=20&&(this.lastTimePaused=this.time,this.drawMenu());else if(32===this.keyArray[t]&&this.keys[this.keyArray[t]]){if(Math.abs(this.time-this.lastTime)>=20)this.lastTime=this.time,this.lasers.push(this.ship.shoot()),this.sfx_player_laser_shoot.cloneNode().play()}else 37===this.keyArray[t]&&this.keys[this.keyArray[t]]?this.ship.rotate(-.05):38===this.keyArray[t]&&this.keys[this.keyArray[t]]?this.ship.thrust():39===this.keyArray[t]&&this.keys[this.keyArray[t]]&&this.ship.rotate(.05)}this.ship.update();for(t=0;t<this.lasers.length;t++)this.lasers[t].update(),this.lasers[t].getRemove()&&this.lasers.splice(t,1);for(t=0;t<this.asteroids.length;t++){for(var e=!1,s=0;s<this.asteroids.length;s++)if(s!==t)for(var i=0;i<this.asteroids[s].vertices.length;i+=2)this.pointCollision(this.asteroids[t].vertices,this.asteroids[t].x,this.asteroids[t].y,this.asteroids[s].vertices[i]+this.asteroids[s].x,this.asteroids[s].vertices[i+1]+this.asteroids[s].y)&&(e=!0,this.asteroids[t].velocity.x*=-1.001,this.asteroids[t].velocity.y*=-1.001,this.asteroids[s].velocity.x*=-1.001,this.asteroids[s].velocity.y*=-1.001,this.asteroids[s].update(),this.asteroids[t].update());e||this.asteroids[t].update();for(var h=0;h<this.ship.vertices.length-2;h+=2)if(this.pointCollision(this.asteroids[t].vertices,this.asteroids[t].x,this.asteroids[t].y,this.ship.vertices[h]+this.ship.x,this.ship.vertices[h+1]+this.ship.y)&&this.canBeDamaged){if(this.currentLives--,this.currentLives>0)this.sfx_player_explode.cloneNode().play();if(this.ship.x=500,this.ship.y=500,this.ship.velocity.x=0,this.ship.velocity.y=0,this.canBeDamaged=!1,this.damageTime=this.time,this.currentLives<=0)return}for(var r=0;r<this.lasers.length;r++)if(this.pointCollision(this.asteroids[t].vertices,this.asteroids[t].x,this.asteroids[t].y,this.lasers[r].x,this.lasers[r].y)){if(this.lasers.splice(r,1),this.sfx_player_laser_hit.cloneNode().play(),this.asteroids[t].splitTimes<2){for(var o=this.asteroids[t].size+10,n=this.asteroids[t].size+10,l=this.asteroids[t].angle,d=0;d<2;d++){var c=Math.round(Math.random()*(this.shapes.Asteroids.length-1)),u=new a(this.shapes.Asteroids[c],this.asteroids[t].x+o,this.asteroids[t].y+n,this.asteroids[t].size/2,l,.5*(this.asteroids[t].velocity.x*this.asteroids[t].velocity.x+this.asteroids[t].velocity.y*this.asteroids[t].velocity.y)+1);this.asteroids.push(u),u.splitTimes=this.asteroids[t].splitTimes+1,o=-o,n=-n,l-=Math.PI}this.score+=50}else this.score+=100;this.asteroids.splice(t,1),t=-1;break}}0===this.asteroids.length&&(this.currentLevel+=1,this.makeLevel(this.currentLevel))}}},{key:"render",value:function(){if(!(this.currentLives<=0)){this.backBufferContext.fillStyle="#000",this.backBufferContext.fillRect(0,0,1e3,1e3);var t=this.backBufferContext;this.drawText(t,this.score,6,50,60),this.drawText(t,"LVL",6,50,130),this.drawText(t,this.currentLevel,6,110,130),t.save();var e=50;t.strokeStyle="#fff";for(var s=0;s<this.currentLives;s++){t.beginPath(),t.moveTo(this.currentLivesVisual[0]+e,this.currentLivesVisual[1]+100);for(var i=2;i<this.currentLivesVisual.length;i+=2)t.lineTo(this.currentLivesVisual[i]+e,this.currentLivesVisual[i+1]+100);t.stroke(),t.closePath(),e+=20}t.restore();var h=this.asteroids.length;for(i=0;i<h;i++)this.asteroids[i].render(this.backBufferContext);for(i=0;i<this.lasers.length;i++)this.lasers[i].render(this.backBufferContext);this.ship.render(this.backBufferContext),this.screenBufferContext.drawImage(this.backBufferCanvas,0,0)}}},{key:"drawMenu",value:function(){this.flip?document.getElementById("message").innerHTML="HOW TO PLAY: <br /> -SHOOT ASTEROIDS TO INCREASE SCORE <br /> -DESTROY ALL ASTEROIDS TO GO TO THE NEXT LEVEL <br /> -WARPING TAKES YOU TO A COMPLETELY RANDOM LOCATION ON SCREEN <br /> -IF YOU DIE, YOU HAVE 3 SECONDS BEFORE YOU CAN BE DAMAGED AGAIN <br /> <br />CONTROLS: <br />-ESC: HIDE HELP <br />-LEFT ARROW KEY: ROTATE COUNTER CLOCKWISE <br />-UP ARROW KEY: MOVE FORWARD <br />-RIGHT ARROW KEY: ROTATE CLOCKWISE <br />-SPACE: FIRE LASER <br />-WARP: ACTIVATE WARP":document.getElementById("message").innerHTML="";this.flip=!this.flip}},{key:"drawText",value:function(t,e,s,i,h){e=e.toString().toUpperCase();var r,a="0".charCodeAt(0),o="A".charCodeAt(0),n=" ".charCodeAt(0),l=3*s;i+=.5,h+=.5,t.save(),t.strokeStyle="#fff";for(var d=0;d<e.length;d++){var c=e.charCodeAt(d);if(c!==n){r=c-o>=0?this.shapes.Letters[c-o]:this.shapes.Numbers[c-a],t.beginPath(),t.moveTo(r[0]*s+i,r[1]*s+h);for(var u=2;u<r.length;u+=2)t.lineTo(r[u]*s+i,r[u+1]*s+h);t.stroke(),t.closePath(),i+=l}else i+=l}t.restore()}},{key:"loop",value:function(){this.currentLives<=0?this.gameOver():(this.update(),this.render())}},{key:"makeLevel",value:function(t){this.sfx_next_level.cloneNode().play(),this.asteroids=[],this.ship=new n,this.lasers=[],t*=10;for(var e=!0,s=0,i=0,h=0;h<t;h++){var r=Math.round(Math.random()*(this.shapes.Asteroids.length-1));Math.random()>.5?(s=Math.random()*this.maxWidth,i=e?100*Math.random():100*Math.random()+900):(i=Math.random()*this.maxHeight,s=e?10*Math.random():100*Math.random()+900),e=!e;var o=2*Math.PI*Math.random(),l=1.5+Math.round(1*Math.random()),d=8+Math.round(10*Math.random()),c=new a(this.shapes.Asteroids[r],s,i,d,o,l);this.asteroids.push(c)}}},{key:"gameOver",value:function(){0===this.onetime&&(this.sfx_game_end.cloneNode().play(),this.onetime=2);this.backBufferContext.fillStyle="#000",this.backBufferContext.fillRect(0,0,1e3,1e3);var t=this.backBufferContext;this.drawText(t,"GAME OVER",20,250,500),this.drawText(t,"SCORE",10,370,600),this.drawText(t,this.score,10,560,600),this.screenBufferContext.drawImage(this.backBufferCanvas,0,0)}}]),t}();s(1),new l}],[[0,1]]]);
//# sourceMappingURL=main.efaadea1.chunk.js.map